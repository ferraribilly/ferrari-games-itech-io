<!DOCTYPE html>
<html>
<head>
  <title>Fortune Era Egpcia</title>
  <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.2.3/dist/css/bootstrap-reboot.min.css"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style3x3.css') }}">
  <!-- <link rell="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <style>
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 99999;
      background: trasnparent;
      background-size: cover;
      background-repeat: no-repeat;
      padding: 15px 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      height: 90px;
      border-radius:15px;
    }
    .logo {
      text-align:center;
      font-size:40px;
      font-family:monospace;
      color:gold;
      background:#000;
      border-radius:10px;
    }


    
    .hamburguer{
      position:relative;
      display:block;
      width:100px;
      height:22px;
      background:#fff;
      transition:.3s;
      border-radius:10px;
      margin-top:90px;
      z-index:9999;
    }
    .hamburguer::before,
    .hamburguer::after{
      content:'';
      position:absolute;
      width:100%;
      height:8px;
      background:#fff;
      transition:.3s;
    }
    .hamburguer::before{top:-10px;}
    .hamburguer::after{bottom:-10px;}
    label[for="menu-toggle"] {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 99999;
    }
    strong {
      color: #000;
      font-size:32px;
      z-index:99999;
    }
    nav {
      display: none;
      position: fixed;
      top: 0;
      right: 0;
      width: 100%;
      height: 100vh;
      background: #111;
      padding-top: 100px;
      z-index: 2;
      opacity:70%;
    }
    #menu-toggle:checked ~ nav {
      display: block;
    }
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    nav ul li {
      padding: 20px;
      text-align: center;
    }
    nav ul li a {
      color: #fff;
      font-size: 32px;
      text-decoration: none;
    }
    .meu-novo-footer {
      background-color: #333;
      color: #fff;
      padding: 20px 0;
      text-align: center;
      width: 100%;
      opacity:50%;
    }
    .meu-novo-footer a {
      color: #4CAF50;
      text-decoration: none;
      margin: 0 10px;
    }
    .meu-novo-footer a:hover {
      text-decoration: underline;
    }


    
    .score {
      position: absolute;
      display:flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 9999;
      <!-- background-image: url("https://res.cloudinary.com/dptprh0xk/image/upload/v1765234429/pngwing.com_1_pgr4aj.png"); -->
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      width: 100%;
      height: 100%;
      opacity: 0;
      pointer-events: none;
      transition: opacity .3s;
      font-size: 80px;
      font-weight: bold;
      color: #000;
      text-shadow:
          0 0 10px gold,
          0 0 20px gold,
          0 0 30px gold,
          0 0 40px gold;
      animation: flicker 1.5s infinite alternate;
    }
    @keyframes flicker {
      0%, 18%, 22%, 25%, 53%, 57%, 100% {
        text-shadow:
          0 0 10px gold,
          0 0 20px gold,
          0 0 30px gold,
          0 0 40px gold;
      }
      20%, 24%, 55% {
        text-shadow: none;
      }
    }


    #espeho_win {
    text-shadow:
    	          0 0 10px gold,
    	          0 0 20px gold,
    	          0 0 30px gold,
    	          0 0 40px gold;
    	      animation: flicker1 1.5s infinite alternate;
    	    }
    	    @keyframes flicker1 {
    	      0%, 18%, 22%, 25%, 53%, 57%, 100% {
    	        text-shadow:
    	          0 0 10px gold,
    	          0 0 20px gold,
    	          0 0 30px gold,
    	          0 0 40px gold;
    	      }
    	      20%, 24%, 55% {
    	        text-shadow: none;
    	      }
    	    }
    		
    
    
    #notification-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 99999;
    }
    .notification-card {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      padding: 15px;
      width: 600px;
      transition: opacity 0.3s ease;
    }
    .notification-icon {
      width: 40px;
      height: 40px;
      margin-right: 10px;
      border-radius: 50%;
    }
    .notification-content h3 {
      font-size: 16px;
      margin: 0 0 5px 0;
    }
    .notification-content p {
      font-size: 14px;
      color: #666;
      margin: 0;
    }
    #autoplayBox {
      display:none;
      height:480px;
      position:fixed;
      right:30px;
      background:#111;
      padding:20px;
      border-radius:10px;
      z-index:99999;
      bottom:500px;
      align-items:center;
      justify-content:colunm;
    }
    #autoplayBox h3 {
      color:white;
      text-align:center;
      margin:0 0 10px 0;
    }
    #autoplayBox .autoOption {
      padding:10px;
      height:100px;
      background:#222;
      color:white;
      border:none;
      border-radius:50%;
      cursor:pointer;
      gap:20px;
      
    }
    #autoplayBox .autoOption:hover {
      background:#444;
    }
    .clock {
        top:0;
        aling-items:center;
        justify-content:center;
        font-size: 3rem;
        font-family: monospace;
        color: #fff;
        text-align:center;
        padding: 10px 20px;
        border: 2px solid #333;
        border-radius: 10px;
    }





.polyline-overlay polyline{
  opacity:0;
  transition: opacity .25s ease;
}

.polyline-overlay polyline.show{
  opacity:1;
}
    /* Anima√ß√£o das Paylines X */
    @keyframes glow {
      0%   { stroke: gold;  filter: drop-shadow(0 0 0px yellow); }
      50%  { stroke: gold;  filter: drop-shadow(0 0 6px yellow); }
      100% { stroke: gold;  filter: drop-shadow(0 0 0px yellow); }
    }
    
    .glow-line {
      animation: glow 1s infinite;
    }
    
    /* Anima√ß√£o das Paylines V */
    @keyframes glow-v {
      0%   { stroke: green; filter: drop-shadow(0 0 0px #fff); }
      50%  { stroke: green; filter: drop-shadow(0 0 6px #fff); }
      100% { stroke: green; filter: drop-shadow(0 0 0px #fff); }
    }
    
    .glow-line-v {
      animation: glow-v 1s infinite;
    }

    /* Anima√ß√£o das Paylines Horizontal */
        @keyframes glow-h {
          0%   { stroke: blue; filter: drop-shadow(0 0 0px #fff); }
          50%  { stroke: blue; filter: drop-shadow(0 0 6px #fff); }
          100% { stroke: blue; filter: drop-shadow(0 0 0px #fff); }
        }
        
        .glow-line-h {
          animation: glow-h 1s infinite;
        }


        /* Anima√ß√£o das Paylines Horizontal */
                @keyframes glow-vertical {
                  0%   { stroke: purple; filter: drop-shadow(0 0 0px #fff); }
                  50%  { stroke: purple; filter: drop-shadow(0 0 6px #fff); }
                  100% { stroke: purple; filter: drop-shadow(0 0 0px 3fff); }
                }
                
                .glow-line-vertical {
                  animation: glow-vertical 1s infinite;
                }
      </style>
</head>

<body>

<header>
 
  </div>
  <input type="checkbox" id="menu-toggle">
  <label for="menu-toggle">
    <div class="hamburguer"></div>
  </label>
  <div class="clock" id="clock"></div>
  <nav>
    <ul id="menu-list">
      <li><a href="/acesso/users/painel/{{ user_id }}">Painel Plataforma</a></li>
      <li><a href="/acesso/users/pagamentos/{{ user_id }}">Transa√ß√µes/finaceiras</a></li>
      <li><a href="/informacao/jogo/era_egpcia/{{user_id}}">Informa√ßoes Jogo</a></li>
      <li><a href="/metodos/pagamento/{{user_id}}">Depositar</a></li>
      <li><a href="/acesso/users/saques/{{user_id}}">Sacar Ganhos</a></li>
      <li><a href="/msg/{{user_id}}">Ajuda</a></li>
      <li><a href="/create-link-premiado/{{convite}}/registro">Compartilhar Link ganhe tambem</a></li>
      <li><a href="/">Logout "sair da conta"</a></li>
    </ul>
    <!-- DIV VIS√çVEL PRA TODOS -->
    <div id="users-online" style="
      position: fixed;
      right: 10px;
      bottom: 10px;
      width: auto;
      max-height: 300px;
      overflow-y: auto;
      background: #111;
      color: #0f0;
      padding: 10px;
      font-family: monospace;
      font-size: 22px;
      border: 1px solid #0f0;
      text-align:center;
    ">
      <strong style="color:#fff;">üë• Jogadores conectados</strong>
      <div id="users-list" style="color:#fff;"></div>
    </div>
  </nav>
</header>

<div id="slotCanvas">
  <div id="jackpot"><h1 class="slogan"></h1></div>
  <div id="linesLayer"></div>
  <audio id="spinSound" src="https://res.cloudinary.com/dptprh0xk/video/upload/v1765318329/reelSpin_sea06g.mp3"></audio>
  <audio id="winSound" src="https://res.cloudinary.com/dptprh0xk/video/upload/v1765318888/slotWin_ivooyw.mp3"></audio>
  <audio id="stopSpinSound" src="https://res.cloudinary.com/dptprh0xk/video/upload/v1765319672/reelStop_znsv9k.mp3"></audio>
  <audio id="ambienteSound" src="https://res.cloudinary.com/dptprh0xk/video/upload/v1765320627/cinematic-egypt-music-387089_yjnfna.mp3" loop autoplay></audio>
  
  <div id="reels">
  <!--CONTROLADO PELO "Slot3x3.js e o BACKEND "app.py
       (Reel0) (Reel1) (Reel2) 
        ["0"]   ["0"]   ["0"]   
        ["1"]   ["1"]   ["1"]   
        ["2"]   ["2"]   ["2"]                                
              -->
   
    <div class="reel"></div>
    <div class="reel"></div>
    <div class="reel"></div>
  </div>
  <div class="score" id="win"></div>
  <div class="super-premio" id="super-premio"></div>
  <div class="message" id="grande-premio"></div>
  <div class="mega_win" id="mega-win"></div>
  <div class="free_spins" id="spin-free"></div>
<!-----------------------PAYLINES V ------------------------->
  <svg class="polyline-overlay"
       viewBox="0 0 100 100"
       width"300"
       height="300"
       style="position:absolute;top:0;left:0;pointer-events:none;z-index:1;overflow:visible">
<!-- 
             symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["0"]   id="payline-v-cima1"
             
             symbols_name position reel 0 ["1"] reel 1 ["2"] reel 2 ["1"]   id="payline-v-cima2"
             
             symbols_name position reel 0 ["1"] reel 1 ["0"] reel 2 ["1"]   id="payline-v-baixo"

             symbols_name position reel 0 ["1"] reel 1 ["2"] reel 2 ["1"]   id="payline-v-baixo1"  -->            
        
       <!-- V "cima" -->
        <polyline 
          id="payline-v-cima1"
          points="65 180, 165 260, 255 180" 
          class="glow-line-v"
          fill="none" 
          stroke="green" 
          stroke-width="2"/>
  
             
             
          <polyline 
             id="payline-v-cima2"
             points="65 280, 165 360, 255 280" 
             class="glow-line-v"
             fill="none" 
             stroke="green" 
             stroke-width="2"/>
        
        
        <!-- V "baixo" -->
          <polyline 
             id="payline-v-baixo"
             points="65 260, 165 180, 255 260" 
             class="glow-line-v"
             fill="none" 
             stroke="green" 
             stroke-width="2"/>
       
        
          <polyline 
             id="payline-v-baixo1"
             points="65 360, 165 280, 255 360" 
             class="glow-line-v"
             fill="none" 
             stroke="green" 
             stroke-width="2"/> 
       </svg>

       <!--------------PAYLINES CRUZADA------------------->
      <svg class="polyline-overlay"
            viewBox="0 0 100 100"       
            width="300"
            height="300"
            style="position:absolute;top:0;left:0;pointer-events:none;z-index:1;overflow:visible">            
 <!--   
      symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["2"]  "id="pyline-x"  
      symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["2"]  "id="pyline-x1"     -->
 
     <polyline 
       id="payline-x"
       points="70 180, 260 360"
       class="glow-line"
       fill="none"
       stroke="yellow"
       stroke-width="2"/>

 
     <polyline 
       id="payline-x1"
       points="260 180, 70 360"
       class="glow-line"
       fill="none"
       stroke="yellow"
       stroke-width="2"/>
     
     </svg>   


         
       <!--------------PAYLINES HORIZONTAL------------------->
  <svg class="polyline-overlay"
            viewBox="0 0 100 100"
            width="300"
            height="300"
            style="position:absolute;top:0;left:0;pointer-events:none;z-index:1;overflow:visible">      
          <!-- 
          symbols_name position reel 0 ["0"] reel 1 ["0"] reel 2 ["0"]  3x id="pyline-horizontal"
          symbols_name position reel 0 ["1"] reel 1 ["1"] reel 2 ["1"]  3x id="pyline-horizontal1"
          symbols_name position reel 0 ["2"] reel 1 ["2"] reel 2 ["2"]  3x id="pyline-horizontal2"  -->                      -->
       
         
         <polyline 
             id="pyline-horizontal"
             points="30 145, 170 145, 300 145"
             class="glow-line-h"
             fill="none"
             stroke="blue"
             stroke-width="2"/>
  
  
        <polyline 
             id="pyline-horizontal1"
             points="30 275, 170 275, 300 275"
             class="glow-line-h"
             fill="none"
             stroke="blue"
             stroke-width="2"/>
           
         <polyline 
             points="30 415, 170 415, 300 415"
             id="horizontal2"
             class="glow-line-h"
             fill="none"
             stroke="blue"
             stroke-width="2"/>
  </svg>
  <!---------------------- PAYLINE VERTICAL------------------------->
   <svg class="polyline-overlay"
            viewBox="0 0 100 100"
            width="300"
            height="300"
            style="position:absolute;top:0;left:0;pointer-events:none;z-index:1;overflow:visible">          
           <!-- 
             symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["2"]  3x id="pyline-verticall"
             symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["2"]  3x id="pyline-vertical1"
             symbols_name position reel 0 ["0"] reel 1 ["1"] reel 2 ["2"]  3x id="pyline-vertical2"  -->   
             <polyline 
               points="60 160, 60 410"
               id="vertical"
               class="glow-line-vertical"
               fill="none"
               stroke="purple"
               stroke-width="2"/>
  
  
             
             <polyline 
               points="165 160, 165 410"
               id="vertical1"
               class="glow-line-vertical"
               fill="none"
               stroke="purple"
               stroke-width="2"/>
  
  
               
              <polyline 
                points="270 160, 270 410"
                id="vertical2"
                class="glow-line-vertical"
                fill="none"
                stroke="purple"
                stroke-width="2"/>     
       </svg>

        

  <div id="controls">
    <div class="secao-saldo">
      <span class="titulo-saldo">saldo:<i class="fa-solid fa-dollar"><i class="fa-solid fa-user"></i></i></span>
      <span class="valor-saldo" id="balance">{{ balance }}</span>
    </div>
    <div class="secao-apostas">
      <span class="titulo-apostas">bet:<i class="fa-solid fa-dollar"></i></span>
      <span class="valor-apostas" id="betValue">0.50</span>
    </div>
    <div class="secao-ganhos">
      <span class="titulo-ganhos">win</span>
      <span class="valor-ganhos" id="espeho_win">0.00</span>
    </div>
  </div>

  <div id="spin-control">
      <img class="turbo" onclick="velocidade-turbo()" src="https://res.cloudinary.com/dptprh0xk/image/upload/v1765216932/pngwing.com_x7b7mf.png" alt="turbo image">
    <!-- <div class="turbo"><button onclick="toggleGrid()"></button></div> -->
    <!-- <img class="betminus" onclick="betMinus()" src="https://res.cloudinary.com/dptprh0xk/image/upload/v1765398373/minus_b4jnqx.png" alt="betminus image"> -->
    <button class="betminus" onclick="betMinus()"><i class="fa-solid fa-minus"></i></button>
    <img id="spin" src="https://res.cloudinary.com/dptprh0xk/image/upload/v1765213395/button_besouro_spin_wgir8u.png" alt="spin image">
    <!-- <img class="betplus" onclick="betPlus()" src="https://res.cloudinary.com/dptprh0xk/image/upload/v1765398373/add_lc59lu.png" alt="betplus image"> -->
    <button class="betplus"onclick="betPlus()"><i class="fa-solid fa-plus"></i></button>
    <!-- <img id="autoplayBtn" src="https://res.cloudinary.com/dptprh0xk/image/upload/v1763946973/Pngtree_vector_play_button_icon_4239632_djasvt.png" alt="auto image"> -->
    <button id="autoplayBtn"><i class="fa-solid fa-play"></i></button>
     
  </div>
</div>

<div id="autoplayBox">
  <h3>Auto Play</h3>
  <div style="display:grid; grid-template-columns:repeat(5,1fr); gap:10px; margin-top:10px;">
    <button class="autoOption" data-v="1">2=volta</button>
    <button class="autoOption" data-v="2">3=volta</button>
    <button class="autoOption" data-v="3">4=volta</button>
    <button class="autoOption" data-v="4">5=volta</button>
    <button class="autoOption" data-v="5">6=volta</button>
    <button class="autoOption" data-v="6">7=volta</button>
    <button class="autoOption" data-v="7">8=volta</button>
    <button class="autoOption" data-v="8">9=volta</button>
    <button class="autoOption" data-v="9">10=volta</button>
    <button class="autoOption" data-v="10">11=volta</button>
  </div>
  <button id="startBtn" style="width:100%; margin-top:10px; padding:15px; background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer;">Iniciar</button>
</div>

<footer class="meu-novo-footer">
  <p>&copy; 2025 Ferrari Games Itech-io Todos os direitos reservados.</p>
  <div><a href="#">Compartilhe</a> | <a href="#">Suporte</a></div>
</footer>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
const socket = io();
const usersList = document.getElementById("users-list");

socket.emit("join_users", { user_id: "{{ user_id }}" });

socket.on("user_conectado", (data) => {
  const div = document.createElement("div");
  div.textContent = `üë§ ${data.user_id} |üë§${data.nome}| üåç ${data.cidade} üí∞ ${data.balance}`;
  usersList.prepend(div);
});
</script>

<script type="module">
import Slot from "{{ url_for('static', filename='js/Slot3x3.js') }}";
import Reel from "{{ url_for('static', filename='js/Reel3x3.js') }}";
import Symbol from "{{ url_for('static', filename='js/Symbol3x3.js') }}";


const config = {
  inverted: false,
  onSpinStart: () => clearPaylines(),
  onSpinEnd: () => {}
};

const slotCanvas = new Slot(document.getElementById("slotCanvas"), config);
window.USER_ID = "{{ user_id }}";
slotCanvas.init();

function updateClock(){
  const now = new Date();
  document.getElementById('clock').textContent =
    now.toLocaleTimeString('pt-BR', { hour12:false });
}

updateClock();
setInterval(updateClock, 1000);


</script>
</body>
</html>
